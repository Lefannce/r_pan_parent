import{b as Z,d as N,u as S,c as p,a3 as se,o as B,f as re,w as H,j as _,n as V,a as le,D as we,E as Ee,_ as Q,p as be,q as A,cs as W,a4 as J,J as ke,b4 as Te,a6 as w,ct as ne,bT as Y,bV as me,bU as Re,m as De,a2 as Le,cu as We,bu as Fe,b1 as ae,r as $,ag as Ve,bW as qe,aA as ge,a9 as oe,Z as ye,a5 as _e,G as y,F as Ne,S as Ge,T as Ke,am as Me,af as ee,aj as Ce,as as Se,B as F,H as Ue,cn as He,ba as xe,b2 as Je,cv as Ze,ae as Qe,a8 as Xe,$ as Ye,g as ue,C as he,k as et,t as tt,ao as Ie}from"./index.2314b740.js";import{_ as nt}from"./index.48d90fde.js";import{E as Oe}from"./el-icon.b15f9600.js";const Pe=Symbol("rowContextKey"),ot=["start","center","end","space-around","space-between","space-evenly"],st=["top","middle","bottom"],lt=Z({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:ot,default:"start"},align:{type:String,values:st,default:"top"}}),at=N({name:"ElRow"}),ut=N({...at,props:lt,setup(e){const n=e,t=S("row"),a=p(()=>n.gutter);se(Pe,{gutter:a});const r=p(()=>{const s={};return n.gutter&&(s.marginRight=s.marginLeft=`-${n.gutter/2}px`),s}),b=p(()=>[t.b(),t.is(`justify-${n.justify}`,n.justify!=="start"),t.is(`align-${n.align}`,n.align!=="top")]);return(s,f)=>(B(),re(Ee(s.tag),{class:V(le(b)),style:we(le(r))},{default:H(()=>[_(s.$slots,"default")]),_:3},8,["class","style"]))}});var rt=Q(ut,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Bt=be(rt),it=Z({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:A([Number,Object]),default:()=>W({})},sm:{type:A([Number,Object]),default:()=>W({})},md:{type:A([Number,Object]),default:()=>W({})},lg:{type:A([Number,Object]),default:()=>W({})},xl:{type:A([Number,Object]),default:()=>W({})}}),ct=N({name:"ElCol"}),dt=N({...ct,props:it,setup(e){const n=e,{gutter:t}=J(Pe,{gutter:p(()=>0)}),a=S("col"),r=p(()=>{const s={};return t.value&&(s.paddingLeft=s.paddingRight=`${t.value/2}px`),s}),b=p(()=>{const s=[];return["span","offset","pull","push"].forEach(i=>{const m=n[i];ke(m)&&(i==="span"?s.push(a.b(`${n[i]}`)):m>0&&s.push(a.b(`${i}-${n[i]}`)))}),["xs","sm","md","lg","xl"].forEach(i=>{ke(n[i])?s.push(a.b(`${i}-${n[i]}`)):Te(n[i])&&Object.entries(n[i]).forEach(([m,h])=>{s.push(m!=="span"?a.b(`${i}-${m}-${h}`):a.b(`${i}-${h}`))})}),t.value&&s.push(a.is("guttered")),[a.b(),s]});return(s,f)=>(B(),re(Ee(s.tag),{class:V(le(b)),style:we(le(r))},{default:H(()=>[_(s.$slots,"default")]),_:3},8,["class","style"]))}});var pt=Q(dt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const jt=be(pt);class mt{constructor(n,t){this.parent=n,this.domNode=t,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,t=>{t.addEventListener("keydown",a=>{let r=!1;switch(a.code){case w.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case w.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case w.tab:{ne(n,"mouseleave");break}case w.enter:case w.space:{r=!0,a.currentTarget.click();break}}return r&&(a.preventDefault(),a.stopPropagation()),!1})})}}class vt{constructor(n,t){this.domNode=n,this.submenu=null,this.submenu=null,this.init(t)}init(n){this.domNode.setAttribute("tabindex","0");const t=this.domNode.querySelector(`.${n}-menu`);t&&(this.submenu=new mt(this,t)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let t=!1;switch(n.code){case w.down:{ne(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),t=!0;break}case w.up:{ne(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),t=!0;break}case w.tab:{ne(n.currentTarget,"mouseleave");break}case w.enter:case w.space:{t=!0,n.currentTarget.click();break}}t&&n.preventDefault()})}}class ft{constructor(n,t){this.domNode=n,this.init(t)}init(n){const t=this.domNode.childNodes;Array.from(t).forEach(a=>{a.nodeType===1&&new vt(a,n)})}}const ht=N({name:"ElMenuCollapseTransition",setup(){const e=S("menu");return{listeners:{onBeforeEnter:t=>t.style.opacity="0.2",onEnter(t,a){Y(t,`${e.namespace.value}-opacity-transition`),t.style.opacity="1",a()},onAfterEnter(t){me(t,`${e.namespace.value}-opacity-transition`),t.style.opacity=""},onBeforeLeave(t){t.dataset||(t.dataset={}),Re(t,e.m("collapse"))?(me(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),Y(t,e.m("collapse"))):(Y(t,e.m("collapse")),t.dataset.oldOverflow=t.style.overflow,t.dataset.scrollWidth=t.clientWidth.toString(),me(t,e.m("collapse"))),t.style.width=`${t.scrollWidth}px`,t.style.overflow="hidden"},onLeave(t){Y(t,"horizontal-collapse-transition"),t.style.width=`${t.dataset.scrollWidth}px`}}}}});function bt(e,n,t,a,r,b){return B(),re(Le,De({mode:"out-in"},e.listeners),{default:H(()=>[_(e.$slots,"default")]),_:3},16)}var gt=Q(ht,[["render",bt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-collapse-transition.vue"]]);function Ae(e,n){const t=p(()=>{let r=e.parent;const b=[n.value];for(;r.type.name!=="ElMenu";)r.props.index&&b.unshift(r.props.index),r=r.parent;return b});return{parentMenu:p(()=>{let r=e.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:t}}function yt(e){return p(()=>{const t=e.backgroundColor;return t?new We(t).shade(20).toString():""})}const Be=(e,n)=>{const t=S("menu");return p(()=>t.cssVarBlock({"text-color":e.textColor||"","hover-text-color":e.textColor||"","bg-color":e.backgroundColor||"","hover-bg-color":yt(e).value||"","active-color":e.activeTextColor||"",level:`${n}`}))},Mt=Z({index:{type:String,required:!0},showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},popperClass:String,disabled:Boolean,popperAppendToBody:{type:Boolean,default:void 0},teleported:{type:Boolean,default:void 0},popperOffset:{type:Number,default:6},expandCloseIcon:{type:ee},expandOpenIcon:{type:ee},collapseCloseIcon:{type:ee},collapseOpenIcon:{type:ee}}),te="ElSubMenu";var $e=N({name:te,props:Mt,setup(e,{slots:n,expose:t}){Fe({from:"popper-append-to-body",replacement:"teleported",scope:te,version:"2.3.0",ref:"https://element-plus.org/en-US/component/menu.html#submenu-attributes"},p(()=>e.popperAppendToBody!==void 0));const a=Ce(),{indexPath:r,parentMenu:b}=Ae(a,p(()=>e.index)),s=S("menu"),f=S("sub-menu"),u=J("rootMenu");u||ae(te,"can not inject root menu");const i=J(`subMenu:${b.value.uid}`);i||ae(te,"can not inject sub menu");const m=$({}),h=$({});let I;const O=$(!1),ie=$(),X=$(null),j=p(()=>o.value==="horizontal"&&z.value?"bottom-start":"right-start"),D=p(()=>o.value==="horizontal"&&z.value||o.value==="vertical"&&!u.props.collapse?e.expandCloseIcon&&e.expandOpenIcon?x.value?e.expandOpenIcon:e.expandCloseIcon:Ve:e.collapseCloseIcon&&e.collapseOpenIcon?x.value?e.collapseOpenIcon:e.collapseCloseIcon:qe),z=p(()=>i.level===0),q=p(()=>{var d;const v=(d=e.teleported)!=null?d:e.popperAppendToBody;return v===void 0?z.value:v}),ce=p(()=>u.props.collapse?`${s.namespace.value}-zoom-in-left`:`${s.namespace.value}-zoom-in-top`),de=p(()=>o.value==="horizontal"&&z.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","left-start","bottom-start","bottom-end","top-start","top-end"]),x=p(()=>u.openedMenus.includes(e.index)),R=p(()=>{let d=!1;return Object.values(m.value).forEach(v=>{v.active&&(d=!0)}),Object.values(h.value).forEach(v=>{v.active&&(d=!0)}),d}),G=p(()=>u.props.backgroundColor||""),K=p(()=>u.props.activeTextColor||""),L=p(()=>u.props.textColor||""),o=p(()=>u.props.mode),l=ge({index:e.index,indexPath:r,active:R}),c=Be(u.props,i.level+1),M=p(()=>o.value!=="horizontal"?{color:L.value}:{borderBottomColor:R.value?u.props.activeTextColor?K.value:"":"transparent",color:R.value?K.value:L.value}),g=()=>{var d,v,C;return(C=(v=(d=X.value)==null?void 0:d.popperRef)==null?void 0:v.popperInstanceRef)==null?void 0:C.destroy()},E=d=>{d||g()},P=()=>{u.props.menuTrigger==="hover"&&u.props.mode==="horizontal"||u.props.collapse&&u.props.mode==="vertical"||e.disabled||u.handleSubMenuClick({index:e.index,indexPath:r.value,active:R.value})},T=(d,v=e.showTimeout)=>{var C;d.type!=="focus"&&(u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||e.disabled||(i.mouseInChild.value=!0,I==null||I(),{stop:I}=Se(()=>{u.openMenu(e.index,r.value)},v),q.value&&((C=b.value.vnode.el)==null||C.dispatchEvent(new MouseEvent("mouseenter")))))},k=(d=!1)=>{var v,C;u.props.menuTrigger==="click"&&u.props.mode==="horizontal"||!u.props.collapse&&u.props.mode==="vertical"||(I==null||I(),i.mouseInChild.value=!1,{stop:I}=Se(()=>!O.value&&u.closeMenu(e.index,r.value),e.hideTimeout),q.value&&d&&((v=a.parent)==null?void 0:v.type.name)==="ElSubMenu"&&((C=i.handleMouseleave)==null||C.call(i,!0)))};oe(()=>u.props.collapse,d=>E(Boolean(d)));{const d=C=>{h.value[C.index]=C},v=C=>{delete h.value[C.index]};se(`subMenu:${a.uid}`,{addSubMenu:d,removeSubMenu:v,handleMouseleave:k,mouseInChild:O,level:i.level+1})}return t({opened:x}),ye(()=>{u.addSubMenu(l),i.addSubMenu(l)}),_e(()=>{i.removeSubMenu(l),u.removeSubMenu(l)}),()=>{var d;const v=[(d=n.title)==null?void 0:d.call(n),y(Ne,{class:f.e("icon-arrow"),style:{transform:x.value?e.expandCloseIcon&&e.expandOpenIcon||e.collapseCloseIcon&&e.collapseOpenIcon&&u.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>F(D.value)?y(a.appContext.components[D.value]):y(D.value)})],C=u.isMenuPopup?y(Oe,{ref:X,visible:x.value,effect:"light",pure:!0,offset:e.popperOffset,showArrow:!1,persistent:!0,popperClass:e.popperClass,placement:j.value,teleported:q.value,fallbackPlacements:de.value,transition:ce.value,gpuAcceleration:!1},{content:()=>{var U;return y("div",{class:[s.m(o.value),s.m("popup-container"),e.popperClass],onMouseenter:pe=>T(pe,100),onMouseleave:()=>k(!0),onFocus:pe=>T(pe,100)},[y("ul",{class:[s.b(),s.m("popup"),s.m(`popup-${j.value}`)],style:c.value},[(U=n.default)==null?void 0:U.call(n)])])},default:()=>y("div",{class:f.e("title"),style:[M.value,{backgroundColor:G.value}],onClick:P},v)}):y(Me,{},[y("div",{class:f.e("title"),style:[M.value,{backgroundColor:G.value}],ref:ie,onClick:P},v),y(nt,{},{default:()=>{var U;return Ge(y("ul",{role:"menu",class:[s.b(),s.m("inline")],style:c.value},[(U=n.default)==null?void 0:U.call(n)]),[[Ke,x.value]])}})]);return y("li",{class:[f.b(),f.is("active",R.value),f.is("opened",x.value),f.is("disabled",e.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:x.value,onMouseenter:T,onMouseleave:()=>k(!0),onFocus:T},[C])}}});const Ct=Z({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:A(Array),default:()=>W([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperEffect:{type:String,values:["dark","light"],default:"dark"}}),ve=e=>Array.isArray(e)&&e.every(n=>F(n)),It={close:(e,n)=>F(e)&&ve(n),open:(e,n)=>F(e)&&ve(n),select:(e,n,t,a)=>F(e)&&ve(n)&&Te(t)&&(a===void 0||a instanceof Promise)};var $t=N({name:"ElMenu",props:Ct,emits:It,setup(e,{emit:n,slots:t,expose:a}){const r=Ce(),b=r.appContext.config.globalProperties.$router,s=$(),f=S("menu"),u=S("sub-menu"),i=$(-1),m=$(e.defaultOpeneds&&!e.collapse?e.defaultOpeneds.slice(0):[]),h=$(e.defaultActive),I=$({}),O=$({}),ie=p(()=>e.mode==="horizontal"||e.mode==="vertical"&&e.collapse),X=()=>{const o=h.value&&I.value[h.value];if(!o||e.mode==="horizontal"||e.collapse)return;o.indexPath.forEach(c=>{const M=O.value[c];M&&j(c,M.indexPath)})},j=(o,l)=>{m.value.includes(o)||(e.uniqueOpened&&(m.value=m.value.filter(c=>l.includes(c))),m.value.push(o),n("open",o,l))},D=o=>{const l=m.value.indexOf(o);l!==-1&&m.value.splice(l,1)},z=(o,l)=>{D(o),n("close",o,l)},q=({index:o,indexPath:l})=>{m.value.includes(o)?z(o,l):j(o,l)},ce=o=>{(e.mode==="horizontal"||e.collapse)&&(m.value=[]);const{index:l,indexPath:c}=o;if(!(xe(l)||xe(c)))if(e.router&&b){const M=o.route||l,g=b.push(M).then(E=>(E||(h.value=l),E));n("select",l,c,{index:l,indexPath:c,route:M},g)}else h.value=l,n("select",l,c,{index:l,indexPath:c})},de=o=>{const l=I.value,c=l[o]||h.value&&l[h.value]||l[e.defaultActive];c?h.value=c.index:h.value=o},x=()=>{var o,l;if(!s.value)return-1;const c=Array.from((l=(o=s.value)==null?void 0:o.childNodes)!=null?l:[]).filter(d=>d.nodeName!=="#comment"&&(d.nodeName!=="#text"||d.nodeValue)),M=64,g=Number.parseInt(getComputedStyle(s.value).paddingLeft,10),E=Number.parseInt(getComputedStyle(s.value).paddingRight,10),P=s.value.clientWidth-g-E;let T=0,k=0;return c.forEach((d,v)=>{T+=d.offsetWidth||0,T<=P-M&&(k=v+1)}),k===c.length?-1:k},R=(o,l=33.34)=>{let c;return()=>{c&&clearTimeout(c),c=setTimeout(()=>{o()},l)}};let G=!0;const K=()=>{const o=()=>{i.value=-1,Qe(()=>{i.value=x()})};G?o():R(o)(),G=!1};oe(()=>e.defaultActive,o=>{I.value[o]||(h.value=""),de(o)}),oe(()=>e.collapse,o=>{o&&(m.value=[])}),oe(I.value,X);let L;Ue(()=>{e.mode==="horizontal"&&e.ellipsis?L=Je(s,K).stop:L==null||L()});{const o=g=>{O.value[g.index]=g},l=g=>{delete O.value[g.index]};se("rootMenu",ge({props:e,openedMenus:m,items:I,subMenus:O,activeIndex:h,isMenuPopup:ie,addMenuItem:g=>{I.value[g.index]=g},removeMenuItem:g=>{delete I.value[g.index]},addSubMenu:o,removeSubMenu:l,openMenu:j,closeMenu:z,handleMenuItemClick:ce,handleSubMenuClick:q})),se(`subMenu:${r.uid}`,{addSubMenu:o,removeSubMenu:l,mouseInChild:$(!1),level:0})}return ye(()=>{e.mode==="horizontal"&&new ft(r.vnode.el,f.namespace.value)}),a({open:l=>{const{indexPath:c}=O.value[l];c.forEach(M=>j(M,c))},close:D,handleResize:K}),()=>{var o,l;let c=(l=(o=t.default)==null?void 0:o.call(t))!=null?l:[];const M=[];if(e.mode==="horizontal"&&s.value){const P=He(c),T=i.value===-1?P:P.slice(0,i.value),k=i.value===-1?[]:P.slice(i.value);(k==null?void 0:k.length)&&e.ellipsis&&(c=T,M.push(y($e,{index:"sub-menu-more",class:u.e("hide-arrow")},{title:()=>y(Ne,{class:u.e("icon-more")},{default:()=>y(Ze)}),default:()=>k})))}const g=Be(e,0),E=y("ul",{key:String(e.collapse),role:"menubar",ref:s,style:g.value,class:{[f.b()]:!0,[f.m(e.mode)]:!0,[f.m("collapse")]:e.collapse}},[...c,...M]);return e.collapseTransition&&e.mode==="vertical"?y(gt,()=>E):E}}});const kt=Z({index:{type:A([String,null]),default:null},route:{type:A([String,Object])},disabled:Boolean}),St={click:e=>F(e.index)&&Array.isArray(e.indexPath)},fe="ElMenuItem",xt=N({name:fe,components:{ElTooltip:Oe},props:kt,emits:St,setup(e,{emit:n}){const t=Ce(),a=J("rootMenu"),r=S("menu"),b=S("menu-item");a||ae(fe,"can not inject root menu");const{parentMenu:s,indexPath:f}=Ae(t,Xe(e,"index")),u=J(`subMenu:${s.value.uid}`);u||ae(fe,"can not inject sub menu");const i=p(()=>e.index===a.activeIndex),m=ge({index:e.index,indexPath:f,active:i}),h=()=>{e.disabled||(a.handleMenuItemClick({index:e.index,indexPath:f.value,route:e.route}),n("click",m))};return ye(()=>{u.addSubMenu(m),a.addMenuItem(m)}),_e(()=>{u.removeSubMenu(m),a.removeMenuItem(m)}),{parentMenu:s,rootMenu:a,active:i,nsMenu:r,nsMenuItem:b,handleClick:h}}});function wt(e,n,t,a,r,b){const s=Ye("el-tooltip");return B(),ue("li",{class:V([e.nsMenuItem.b(),e.nsMenuItem.is("active",e.active),e.nsMenuItem.is("disabled",e.disabled)]),role:"menuitem",tabindex:"-1",onClick:n[0]||(n[0]=(...f)=>e.handleClick&&e.handleClick(...f))},[e.parentMenu.type.name==="ElMenu"&&e.rootMenu.props.collapse&&e.$slots.title?(B(),re(s,{key:0,effect:e.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:H(()=>[_(e.$slots,"title")]),default:H(()=>[he("div",{class:V(e.nsMenu.be("tooltip","trigger"))},[_(e.$slots,"default")],2)]),_:3},8,["effect"])):(B(),ue(Me,{key:1},[_(e.$slots,"default"),_(e.$slots,"title")],64))],2)}var je=Q(xt,[["render",wt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item.vue"]]);const Et={title:String},Tt="ElMenuItemGroup",_t=N({name:Tt,props:Et,setup(){return{ns:S("menu-item-group")}}});function Nt(e,n,t,a,r,b){return B(),ue("li",{class:V(e.ns.b())},[he("div",{class:V(e.ns.e("title"))},[e.$slots.title?_(e.$slots,"title",{key:1}):(B(),ue(Me,{key:0},[et(tt(e.title),1)],64))],2),he("ul",null,[_(e.$slots,"default")])],2)}var ze=Q(_t,[["render",Nt],["__file","/home/runner/work/element-plus/element-plus/packages/components/menu/src/menu-item-group.vue"]]);const zt=be($t,{MenuItem:je,MenuItemGroup:ze,SubMenu:$e}),Rt=Ie(je);Ie(ze);Ie($e);export{jt as E,Rt as a,zt as b,Bt as c};
